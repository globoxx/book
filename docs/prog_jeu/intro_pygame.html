<!doctype html>
<html class="no-js" lang="fr">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Recherche" href="../search.html" /><link rel="next" title="3. Running Ninja (runner)" href="runner_new.html" /><link rel="prev" title="1. Rappels de programmation" href="rappels.html" />

    <link rel="shortcut icon" href="../_static/gymlab-icon.ico"/><meta name="generator" content="sphinx-4.2.0, furo 2021.10.09"/>
        <title>2. Introduction à Pygame - Travaux pratiques</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=0254c309f5cadf746f1a613e7677379ac9c8cdcd" />
    <link rel="stylesheet" type="text/css" href="../_static/codeplay.css" />
    <link rel="stylesheet" type="text/css" href="../_static/glossary.css" />
    <link rel="stylesheet" type="text/css" href="../_static/questions.css" />
    <link rel="stylesheet" type="text/css" href="../_static/videos.css" />
    <link rel="stylesheet" type="text/css" href="../_static/logic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/blanks.css" />
    <link rel="stylesheet" type="text/css" href="../_static/timeline.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=16fb25fabf47304eee183a5e9af80b1ba98259b1" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/global.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/reactions.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/progress.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack: Montserrat, system-ui, -apple-system, BlinkMacSystemFont,"Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --color-foreground-primary: black;
  --color-foreground-secondary: #5a5c63;
  --color-foreground-muted: #646776;
  --color-foreground-border: #878787;
  --color-background-primary: white;
  --color-background-secondary: #f8f9fb;
  --color-background-hover: #efeff4ff;
  --color-background-over--transparent: #efeff400;
  --color-background-border: #eeebee;
  --color-announcement-background: #000000dd;
  --color-announcement-text: #eeebee;
  --color-brand-primary: #8044FF;
  --color-brand-content: #8044FF;
  --admonition-font-size: 0.9rem;
  --admonition-title-font-size: 0.9rem;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --font-stack: Montserrat, system-ui, -apple-system, BlinkMacSystemFont,"Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --color-foreground-primary: #ffffffcc;
  --color-foreground-secondary: #9ca0a5;
  --color-foreground-muted: #81868d;
  --color-foreground-border: #666666;
  --color-background-primary: #131416;
  --color-background-secondary: #131416;
  --color-background-hover: #1e2124ff;
  --color-background-over--transparent: #1e212400;
  --color-background-border: #303335;
  --color-announcement-background: #000000dd;
  --color-announcement-text: #eeebee;
  --color-brand-primary: #7C3EFF;
  --color-brand-content: #7C3EFF;
  --admonition-font-size: 0.9rem;
  --admonition-title-font-size: 0.9rem;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --font-stack: Montserrat, system-ui, -apple-system, BlinkMacSystemFont,"Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --color-foreground-primary: #ffffffcc;
  --color-foreground-secondary: #9ca0a5;
  --color-foreground-muted: #81868d;
  --color-foreground-border: #666666;
  --color-background-primary: #131416;
  --color-background-secondary: #131416;
  --color-background-hover: #1e2124ff;
  --color-background-over--transparent: #1e212400;
  --color-background-border: #303335;
  --color-announcement-background: #000000dd;
  --color-announcement-text: #eeebee;
  --color-brand-primary: #7C3EFF;
  --color-brand-content: #7C3EFF;
  --admonition-font-size: 0.9rem;
  --admonition-title-font-size: 0.9rem;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Travaux pratiques</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/modulo-logo-light.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/modulo-logo-dark.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Travaux pratiques</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Recherche name="q" aria-label="Recherche">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Programmation (parcours formel)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../prog_formel/intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_formel/variables.html">2. Les variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_formel/fonctions.html">3. Les fonctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_formel/definitions.html">4. Définition de fonctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_formel/conditions.html">5. Les structures conditionnelles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_formel/sequences.html">6. Les types séquentiels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_formel/algo.html">7. Les algorithmes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programmation (parcours dessin et aventure)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/dessiner.html">1. Dessiner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/definir.html">2. Définir</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/repeter.html">3. Répéter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/parametrer.html">4. Paramétrer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/parcourir.html">5. Parcourir</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/randomiser.html">6. Randomiser (exemples)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/projet.html">Projet de dessin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/projets_eleves.html">Projets de dessin d’élèves</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/aventure.html">Histoire interactive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/projet2.html">Projet d’histoire interactive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prog_dessin/projets_eleves2.html">Projets d’histoire interactive d’élèves</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Web</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../web/html1.html">1. Introduction à l’HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/html2.html">2. Structurer son texte</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/html3.html">3. Faire des liens</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/html4.html">4. Plus sur les images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/css1.html">5. Introduction au CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/css2.html">6. Plus de propriétés</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/css3.html">7. Structurer sa page en blocs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/css4.html">8. Aligner ses blocs avec Flexbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/js1.html">9. Introduction à JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/projet.html">Projet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/projets_eleves.html">Projets d’élèves</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programmation de jeu 2D</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="rappels.html">1. Rappels de programmation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">2. Introduction à Pygame</a></li>
<li class="toctree-l1"><a class="reference internal" href="runner_new.html">3. Running Ninja (runner)</a></li>
<li class="toctree-l1"><a class="reference internal" href="hit_the_fly.html">4. Hit the fly (shooter)</a></li>
<li class="toctree-l1"><a class="reference internal" href="platformer.html">5. Jumper (platformer)</a></li>
<li class="toctree-l1"><a class="reference internal" href="projet.html">Projet</a></li>
<li class="toctree-l1"><a class="reference internal" href="projets_eleves.html">Projets d’élèves</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Autres activités</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../divers/epidemie.html">Simulation d’épidémie</a></li>
<li class="toctree-l1"><a class="reference internal" href="../divers/catch_the_fruit.html">Catch the fruit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../divers/portes_logiques.html">Portes logiques</a></li>
<li class="toctree-l1"><a class="reference internal" href="../divers/projets_eleves.html">Projets libres d’élèves</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Outils</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../outils/code_libre.html">Zone de code libre</a></li>
<li class="toctree-l1"><a class="reference internal" href="../outils/glossaire.html">Glossaire</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="introduction-a-pygame">
<span id="prog-jeu-intro-pygame"></span><h1>2. Introduction à Pygame<a class="headerlink" href="#introduction-a-pygame" title="Lien permanent vers ce titre">¶</a></h1>
<p>Cette activité consiste à prendre en main les notions de base de Pygame Zero en jouant avec ses fonctionalités.</p>
<p><a class="reference download internal" download="" href="../_downloads/ca6c3644fbe0762a19154ad8f4b0e352/intro_pygame.zip"><code class="xref download docutils literal notranslate"><span class="pre">Téléchargement</span> <span class="pre">des</span> <span class="pre">ressources</span> <span class="pre">nécessaires</span></code></a>.</p>
<p>Pygame est une bibliothèque Python permettant de créer des jeux vidéo en 2D. Elle fournit des fonctionnalités pour gérer les fenêtres, les événements, les images, les sons, et bien plus encore.</p>
<p>Vous trouverez ci-dessous le code minimal pour faire apparaître la fenêtre de votre jeu.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pgzero</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pgzrun</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pgzhelper</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="n">TITLE</span> <span class="o">=</span> <span class="s1">'Premier test !'</span> <span class="c1"># Titre de votre jeu</span>

<span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">800</span> <span class="c1"># Largeur de la fenêtre</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">600</span> <span class="c1"># Hauteur de la fenêtre</span>

<span class="n">pgzrun</span><span class="o">.</span><span class="n">go</span><span class="p">()</span> <span class="c1"># Lance le jeu</span>
</pre></div>
</div>
<section id="fond-et-formes">
<h2>1. Fond et formes<a class="headerlink" href="#fond-et-formes" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ajoutons un fond bleu et quelques formes géométriques à l’écran. Pour cela, nous allons utiliser la fonction <code class="docutils literal notranslate"><span class="pre">draw()</span></code> qui est appelée automatiquement par Pygame Zero à chaque frame (tour) du jeu pour dessiner les éléments à l’écran.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span> <span class="c1"># Efface l'écran avant de dessiner</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s2">"blue"</span><span class="p">)</span> <span class="c1"># Remplit le fond en bleu</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">((</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">),</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">"white"</span><span class="p">)</span> <span class="c1"># Cercle blanc de centre (250, 250) et de rayon 50</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_circle</span><span class="p">((</span><span class="mi">250</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span> <span class="c1"># Cercle rouge rempli de centre (250, 100) et de rayon 50</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">Rect</span><span class="p">((</span><span class="mi">400</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">)),</span> <span class="s2">"green"</span><span class="p">)</span> <span class="c1"># Rectangle vert avec le coin supérieur gauche en (400, 200) et de taille (150, 100)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">450</span><span class="p">),</span> <span class="s2">"purple"</span><span class="p">)</span> <span class="c1"># Ligne verticale violette de (150, 20) à (150, 450)</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Bonjour Pygame Zero!"</span><span class="p">,</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">"yellow"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span> <span class="c1"># Texte jaune à la position (400, 50)</span>

<span class="n">pgzrun</span><span class="o">.</span><span class="n">go</span><span class="p">()</span>
</pre></div>
</div>
<section id="exercice-1">
<h3>Exercice 1<a class="headerlink" href="#exercice-1" title="Lien permanent vers ce titre">¶</a></h3>
<p>Changez le fond en mettant une image de votre choix. Trouvez-en une et déposez-la dans le dossier <code class="docutils literal notranslate"><span class="pre">images</span></code> de votre projet. Changez la ligne <code class="docutils literal notranslate"><span class="pre">screen.fill(...)</span></code> par <code class="docutils literal notranslate"><span class="pre">screen.blit('nom_de_votre_image',</span> <span class="pre">(0,</span> <span class="pre">0))</span></code>.</p>
<p>Attention, l’image devrait idéalement être de la même taille que la fenêtre (800x600 pixels) pour qu’elle s’affiche correctement.</p>
</section>
</section>
<section id="faire-bouger-les-formes">
<h2>2. Faire bouger les formes<a class="headerlink" href="#faire-bouger-les-formes" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour faire bouger les objets, nous allons utiliser la fonction <code class="docutils literal notranslate"><span class="pre">update()</span></code> qui est appelée automatiquement par Pygame Zero à chaque frame (tour) du jeu. Cette fonction est utilisée pour <strong>mettre à jour la logique du jeu</strong>, comme la position des objets.</p>
<p>Nous allons faire bouger un carré rouge horizontalement.</p>
<p><strong>Vous pouvez enlever les autres formes dessinées précédemment pour ne garder que le carré rouge.</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>

<span class="n">box</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span> <span class="c1"># Crée un rectangle de position (20, 20) et de taille (50, 50)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">filled_rect</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="s2">"red"</span><span class="p">)</span> <span class="c1"># Dessine le rectangle et le remplit en rouge</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span> <span class="c1"># Déplace le rectangle de 2 pixels vers la droite</span>
    <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span> <span class="c1"># Si le rectangle dépasse la largeur de la fenêtre</span>
        <span class="n">box</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Remet le rectangle à gauche</span>
</pre></div>
</div>
<section id="exercice-2">
<h3>Exercice 2<a class="headerlink" href="#exercice-2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Faites bouger le carré plus rapidement.</p>
</section>
<section id="exercice-3">
<h3>Exercice 3<a class="headerlink" href="#exercice-3" title="Lien permanent vers ce titre">¶</a></h3>
<p>Faites bouger le carré en diagonale.</p>
</section>
<section id="exercice-4">
<h3>Exercice 4<a class="headerlink" href="#exercice-4" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ajoutez un deuxième rectangle d’une autre couleur qui se déplace également (de la manière que vous voulez).</p>
</section>
</section>
<section id="ajouter-des-acteurs-avec-des-images">
<h2>3. Ajouter des acteurs (avec des images)<a class="headerlink" href="#ajouter-des-acteurs-avec-des-images" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour ajouter des acteurs, nous allons utiliser la classe <code class="docutils literal notranslate"><span class="pre">Actor</span></code> de Pygame Zero. Assurez-vous d’avoir une image nommée <code class="docutils literal notranslate"><span class="pre">alien.png</span></code> dans le dossier <code class="docutils literal notranslate"><span class="pre">images</span></code> de votre projet.</p>
<p>Voyez <code class="docutils literal notranslate"><span class="pre">Actor</span></code> comme un nouveau type de variable qui représente un acteur dans votre jeu, avec des propriétés comme une position (x, y) et une image.</p>
<p><strong>Vous pouvez retirer le carré rouge dessiné précédemment pour ne garder que l’acteur.</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>

<span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span> <span class="c1"># Crée un acteur (nommé player) avec l'image 'alien.png'</span>
<span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Positionne l'acteur à x = 0</span>
<span class="n">player</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">50</span> <span class="c1"># Positionne l'acteur à y = 50</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">player</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span> <span class="c1"># Dessine l'acteur à sa position actuelle</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span> <span class="c1"># Déplace l'acteur de 2 pixels vers la droite</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span> <span class="c1"># Si l'acteur dépasse la largeur de la fenêtre</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># Remet l'acteur à gauche</span>
</pre></div>
</div>
<section id="exercice-5">
<h3>Exercice 5<a class="headerlink" href="#exercice-5" title="Lien permanent vers ce titre">¶</a></h3>
<p>Changez l’image de l’acteur en utilisant une autre image de votre choix (assurez-vous de l’ajouter au dossier <code class="docutils literal notranslate"><span class="pre">images</span></code> si vous la téléchargez sur Internet).</p>
</section>
</section>
<section id="gestion-du-clavier">
<h2>4. Gestion du clavier<a class="headerlink" href="#gestion-du-clavier" title="Lien permanent vers ce titre">¶</a></h2>
<p>Il est temps de faire bouger notre acteur nous-mêmes ! Nous allons utiliser la variable spéciale <code class="docutils literal notranslate"><span class="pre">keyboard</span></code> fournie par Pygame Zero pour détecter les touches pressées.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span> <span class="c1"># Si la touche flèche droite est pressée</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">5</span> <span class="c1"># Déplace l'acteur de 5 pixels vers la droite</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span> <span class="c1"># Si la touche flèche gauche est pressée</span>
        <span class="n">player</span><span class="o">.</span><span class="n">x</span> <span class="o">-=</span> <span class="mi">5</span> <span class="c1"># Déplace l'acteur de 5 pixels vers la gauche</span>
</pre></div>
</div>
<section id="exercice-6">
<h3>Exercice 6<a class="headerlink" href="#exercice-6" title="Lien permanent vers ce titre">¶</a></h3>
<p>Permettez à l’acteur de se déplacer également vers le haut et vers le bas.</p>
</section>
<section id="exercice-7">
<h3>Exercice 7<a class="headerlink" href="#exercice-7" title="Lien permanent vers ce titre">¶</a></h3>
<p>Empêchez l’acteur de sortir de l’écran (ou faites-le réapparaître de l’autre côté).</p>
</section>
<section id="exercice-8">
<h3>Exercice 8<a class="headerlink" href="#exercice-8" title="Lien permanent vers ce titre">¶</a></h3>
<p>Si ce n’est pas déjà fait, permettez à l’acteur de se déplacer en diagonale en appuyant sur deux touches en même temps (par exemple, flèche droite + flèche haut).</p>
</section>
</section>
<section id="animation-des-acteurs">
<h2>5. Animation des acteurs<a class="headerlink" href="#animation-des-acteurs" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pygame Zero permet également d’animer les acteurs en utilisant des images différentes pour représenter différentes poses ou états. Pour cela, vous devez avoir plusieurs images nommées de manière cohérente, par exemple <code class="docutils literal notranslate"><span class="pre">alien_walk1.png</span></code>, <code class="docutils literal notranslate"><span class="pre">alien_walk2.png</span></code>, etc.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="o">...</span>
<span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span> <span class="c1"># Crée un acteur avec l'image 'alien.png'</span>
<span class="n">player</span><span class="o">.</span><span class="n">images</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'alien_walk1'</span><span class="p">,</span> <span class="s1">'alien_walk2'</span><span class="p">]</span> <span class="c1"># Liste des images pour l'animation</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="n">player</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># Change l'image de l'acteur 5 fois par seconde (5 fps)</span>

</pre></div>
</div>
<section id="exercice-9">
<h3>Exercice 9<a class="headerlink" href="#exercice-9" title="Lien permanent vers ce titre">¶</a></h3>
<p>Modifiez la vitesse de l’animation en changeant le nombre passé à <code class="docutils literal notranslate"><span class="pre">player.animate()</span></code>.</p>
</section>
<section id="exercice-10">
<h3>Exercice 10<a class="headerlink" href="#exercice-10" title="Lien permanent vers ce titre">¶</a></h3>
<p>Rendez-vous sur <a href="https://kenney.nl/assets" target="_blank">Kenny</a> pour télécharger un ensemble d’images d’animation gratuites. Ajoutez-les à votre projet (dans le dossier <code class="docutils literal notranslate"><span class="pre">images</span></code>) et utilisez-les pour animer votre acteur.</p>
</section>
</section>
<section id="ajouter-un-ennemi-rebondissant">
<h2>6. Ajouter un ennemi rebondissant<a class="headerlink" href="#ajouter-un-ennemi-rebondissant" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ajoutons un ennemi qui se déplace diagonalement dans le jeu en rebondissant sur les coins. Il s’agira donc d’un nouvel <code class="docutils literal notranslate"><span class="pre">acteur</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">enemy</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'bird0'</span><span class="p">)</span> <span class="c1"># Crée un acteur ennemi avec l'image 'bird0.png'</span>
<span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">enemy</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="mi">3</span> <span class="c1"># Vitesse horizontale</span>
<span class="n">enemy</span><span class="o">.</span><span class="n">vy</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># Vitesse verticale</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="n">enemy</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span> <span class="c1"># Dessine l'ennemi</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="c1"># Met à jour la position de l'ennemi</span>
    <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">enemy</span><span class="o">.</span><span class="n">vx</span>

    <span class="c1"># Vérifie les collisions avec les bords de la fenêtre</span>
    <span class="k">if</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">WIDTH</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">vx</span> <span class="o">=</span> <span class="o">-</span><span class="n">enemy</span><span class="o">.</span><span class="n">vx</span> <span class="c1"># Inverse la vitesse horizontale</span>
</pre></div>
</div>
<section id="exercice-11">
<h3>Exercice 11<a class="headerlink" href="#exercice-11" title="Lien permanent vers ce titre">¶</a></h3>
<p>Complétez le code pour que l’ennemi se déplace diagonalement et rebondisse également sur les bords supérieur et inférieur de la fenêtre.</p>
</section>
</section>
<section id="des-collisions-entre-acteurs">
<h2>7. Des collisions entre acteurs<a class="headerlink" href="#des-collisions-entre-acteurs" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour détecter les collisions entre deux acteurs, vous pouvez utiliser la méthode <code class="docutils literal notranslate"><span class="pre">collides_with(actor)</span></code> qui vérifie si un acteur entre en collision avec un autre.</p>
<p>Le but est de détecter une collision entre le joueur et l’ennemi. Si une collision est détectée, le jeu se termine.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="c1"># Vérifie la collision entre le joueur et l'ennemi</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">collides_with</span><span class="p">(</span><span class="n">enemy</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Collision détectée ! Jeu terminé."</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">()</span> <span class="c1"># Termine le jeu</span>
</pre></div>
</div>
<section id="exercice-12">
<h3>Exercice 12<a class="headerlink" href="#exercice-12" title="Lien permanent vers ce titre">¶</a></h3>
<p>Changez la difficulté du jeu en modifiant la vitesse de l’ennemi (ou celle du joueur).</p>
</section>
</section>
<section id="musique-et-sons">
<h2>8. Musique et sons<a class="headerlink" href="#musique-et-sons" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pygame Zero permet également d’ajouter de la musique de fond et des effets sonores à votre jeu. Pour cela, vous devez avoir des fichiers audio dans les dossiers <code class="docutils literal notranslate"><span class="pre">music</span></code> et <code class="docutils literal notranslate"><span class="pre">sounds</span></code> de votre projet.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>

<span class="n">music</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="s1">'adventure'</span><span class="p">)</span> <span class="c1"># Joue la musique de fond (fichier 'adventure.mp3' dans le dossier music)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">collides_with</span><span class="p">(</span><span class="n">enemy</span><span class="p">):</span>
        <span class="n">sounds</span><span class="o">.</span><span class="n">die</span><span class="o">.</span><span class="n">play</span><span class="p">()</span> <span class="c1"># Joue un son d'explosion (fichier 'die.wav' dans le dossier sounds)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Collision détectée ! Jeu terminé."</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
<section id="exercice-13">
<h3>Exercice 13<a class="headerlink" href="#exercice-13" title="Lien permanent vers ce titre">¶</a></h3>
<p>Changez la musique de fond et les effets sonores en utilisant vos propres fichiers audio (assurez-vous de les ajouter aux dossiers <code class="docutils literal notranslate"><span class="pre">music</span></code> et <code class="docutils literal notranslate"><span class="pre">sounds</span></code>).</p>
</section>
</section>
<section id="a-rendre">
<h2>A rendre<a class="headerlink" href="#a-rendre" title="Lien permanent vers ce titre">¶</a></h2>
<div class="tip admonition">
<p class="admonition-title">À rendre sur Moodle</p>
<p>Déposez sur Moodle le fichier <code class="docutils literal notranslate"><span class="pre">jeu.py</span></code> sur lequel vous avez travaillé, contenant toutes les fonctionnalités que vous avez implémentées.</p>
<p>Il n’est pas nécessaire de déposer les ressources (images, sons, musiques).</p>
</div>
<section id="exercice-14-optionnel">
<h3>Exercice 14 (optionnel)<a class="headerlink" href="#exercice-14-optionnel" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ajoutez un second joueur contrôlé par d’autres touches du clavier (par exemple, WASD) et faites en sorte que le jeu se termine si l’un des deux joueurs entre en collision avec l’ennemi. Le but étant de survivre plus longtemps que l’autre joueur !</p>
</section>
<section id="exercie-15-optionnel">
<h3>Exercie 15 (optionnel)<a class="headerlink" href="#exercie-15-optionnel" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ajoutez plus d’ennemis pour augmenter la difficulté du jeu.</p>
</section>
<section id="exercice-16-optionnel">
<h3>Exercice 16 (optionnel)<a class="headerlink" href="#exercice-16-optionnel" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ajoutez un système de score qui augmente avec le temps passé sans collision. Affichez le score à l’écran. (Cela devient un jeu coopératif de survie !)</p>
</section>
</section>
<section id="et-quoi-dautre">
<h2>Et quoi d’autre ?<a class="headerlink" href="#et-quoi-dautre" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pygame Zero offre de nombreuses autres fonctionnalités. N’hésitez pas à explorer la <a class="reference external" href="https://pygame-zero.readthedocs.io/en/stable/">documentation officielle de Pygame Zero</a> pour en savoir plus et continuer à développer vos compétences en programmation de jeux vidéo !</p>
<p>Voici une liste non exhaustive de ce que vous pouvez explorer ensuite :</p>
<section id="donner-de-la-vie-a-vos-acteurs">
<h3>Donner de la vie à vos acteurs<a class="headerlink" href="#donner-de-la-vie-a-vos-acteurs" title="Lien permanent vers ce titre">¶</a></h3>
<p>Utilisez des variables pour gérer la santé ou l’énergie de vos acteurs, et modifiez-les en fonction des événements du jeu.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">player</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'alien'</span><span class="p">)</span>
<span class="n">player</span><span class="o">.</span><span class="n">vie</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1"># Initialise la vie du joueur à 100</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">collides_with</span><span class="p">(</span><span class="n">enemy</span><span class="p">):</span>
        <span class="n">player</span><span class="o">.</span><span class="n">vie</span> <span class="o">-=</span> <span class="mi">10</span> <span class="c1"># Réduit la santé du joueur de 10 en cas de collision</span>
        <span class="k">if</span> <span class="n">player</span><span class="o">.</span><span class="n">vie</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">"Le joueur est mort ! Jeu terminé."</span><span class="p">)</span>
            <span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="afficher-la-valeur-dune-variable-a-lecran">
<h3>Afficher la valeur d’une variable à l’écran<a class="headerlink" href="#afficher-la-valeur-dune-variable-a-lecran" title="Lien permanent vers ce titre">¶</a></h3>
<p>Utilisez <code class="docutils literal notranslate"><span class="pre">screen.draw.text()</span></code> pour afficher du texte à l’écran, comme des scores ou de la vie.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="s2">"Vie : "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">vie</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s2">"white"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="ajouter-un-bouton">
<h3>Ajouter un bouton<a class="headerlink" href="#ajouter-un-bouton" title="Lien permanent vers ce titre">¶</a></h3>
<p>Vous pouvez créer des boutons en utilisant la classe <code class="docutils literal notranslate"><span class="pre">Button</span></code> fournie par <code class="docutils literal notranslate"><span class="pre">pgzhelper</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">start_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="s2">"Start"</span><span class="p">,</span> <span class="p">(</span><span class="n">WIDTH</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="o">//</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span> <span class="c1"># Bouton centré de taille 100x50</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="n">start_button</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span> <span class="c1"># Dessine le bouton</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="n">start_button</span><span class="o">.</span><span class="n">update</span><span class="p">()</span> <span class="c1"># Met à jour l'état du bouton pour le hover</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">start_button</span><span class="o">.</span><span class="n">collidepoint</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Bouton Start cliqué !"</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="gerer-le-temps-qui-secoule">
<h3>Gérer le temps qui s’écoule<a class="headerlink" href="#gerer-le-temps-qui-secoule" title="Lien permanent vers ce titre">¶</a></h3>
<p>Il est possible de vérifier le temps écoulé depuis le début du jeu avec <code class="docutils literal notranslate"><span class="pre">pygame.time.get_ticks()</span></code>, qui retourne le nombre de millisecondes écoulées.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="n">temps_ecoule</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">get_ticks</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span> <span class="c1"># Temps écoulé en secondes</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Temps écoulé depuis le début du jeu : </span><span class="si">{</span><span class="n">temps_ecoule</span><span class="si">}</span><span class="s2"> secondes"</span><span class="p">)</span>
</pre></div>
</div>
<p>Il est aussi possible de créer des événements programmés avec l’objet <code class="docutils literal notranslate"><span class="pre">clock</span></code>. Cela permet d’exécuter des fonctions à intervalles réguliers ou après un certain délai.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">spawn_enemy</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Un nouvel ennemi apparaît !"</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">spawn_boss</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Un boss apparaît !"</span><span class="p">)</span>

<span class="n">clock</span><span class="o">.</span><span class="n">schedule_interval</span><span class="p">(</span><span class="n">spawn_enemy</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">)</span> <span class="c1"># Appelle spawn_enemy toutes les 10 secondes</span>
<span class="n">clock</span><span class="o">.</span><span class="n">schedule_unique</span><span class="p">(</span><span class="n">spawn_boss</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">)</span> <span class="c1"># Appelle spawn_boss une seule fois après 15 secondes</span>
</pre></div>
</div>
</section>
<section id="gestion-de-la-souris">
<h3>Gestion de la souris<a class="headerlink" href="#gestion-de-la-souris" title="Lien permanent vers ce titre">¶</a></h3>
<p>Utilisez la fonction spéciale <code class="docutils literal notranslate"><span class="pre">on_mouse_down</span></code> pour décrire ce qui se passe lorsqu’un clic de souris est détecté à une position (<code class="docutils literal notranslate"><span class="pre">pos</span></code>) donnée.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">on_mouse_down</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Souris cliquée en position </span><span class="si">{</span><span class="n">pos</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="gerer-la-rotation-des-acteurs">
<h3>Gérer la rotation des acteurs<a class="headerlink" href="#gerer-la-rotation-des-acteurs" title="Lien permanent vers ce titre">¶</a></h3>
<p>Vous pouvez faire pivoter les acteurs en modifiant leur propriété <code class="docutils literal notranslate"><span class="pre">angle</span></code>. Cela modifie uniquement l’image de l’acteur, pas sa direction de déplacement.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">player</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="mi">5</span> <span class="c1"># Fait pivoter l'acteur de 5 degrés à chaque frame</span>
</pre></div>
</div>
</section>
<section id="gerer-des-deplacements-plus-complexes">
<h3>Gérer des déplacements plus complexes<a class="headerlink" href="#gerer-des-deplacements-plus-complexes" title="Lien permanent vers ce titre">¶</a></h3>
<p>Parfois, il est nécessaire de déplacer un acteur dans une direction spécifique plutôt que simplement à gauche, à droite, en haut ou en bas.</p>
<p>Utilisez la propriété <code class="docutils literal notranslate"><span class="pre">direction</span></code> pour définir la direction de déplacement d’un acteur en degrés (0° vers la droite, 90° vers le haut, etc.). Ensuite, utilisez la méthode <code class="docutils literal notranslate"><span class="pre">move_in_direction(speed)</span></code> pour déplacer l’acteur dans cette <code class="docutils literal notranslate"><span class="pre">direction</span></code> à une vitesse donnée.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">player</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="mi">45</span> <span class="c1"># Définit la direction de l'acteur à 45 degrés (diagonale haut-droite)</span>
<span class="n">player</span><span class="o">.</span><span class="n">move_in_direction</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># Déplace l'acteur de 5 pixels dans la direction définie</span>
</pre></div>
</div>
</section>
<section id="gerer-des-listes-dacteurs">
<h3>Gérer des listes d’acteurs<a class="headerlink" href="#gerer-des-listes-dacteurs" title="Lien permanent vers ce titre">¶</a></h3>
<p>Vous pouvez créer et gérer plusieurs acteurs en utilisant des listes Python. Cela est utile pour gérer des groupes d’ennemis, des projectiles, etc.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">enemies</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># Liste pour stocker les ennemis</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span> <span class="c1"># In crée 5 ennemis</span>
    <span class="n">enemy</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">'spider'</span><span class="p">)</span>
    <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WIDTH</span><span class="p">)</span>
    <span class="n">enemy</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">)</span>
    <span class="n">enemies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">enemy</span><span class="p">)</span> <span class="c1"># Ajoute l'ennemi à la liste</span>

<span class="k">def</span><span class="w"> </span><span class="nf">draw</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">enemy</span> <span class="ow">in</span> <span class="n">enemies</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span> <span class="c1"># Dessine chaque ennemi dans la liste</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">enemy</span> <span class="ow">in</span> <span class="n">enemies</span><span class="p">:</span>
        <span class="n">enemy</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># Déplace chaque ennemi vers la droite</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="runner_new.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">3. Running Ninja (runner)</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="rappels.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">1. Rappels de programmation</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
            <a class="muted-link" href="../_sources/prog_jeu/intro_pygame.md.txt"
               rel="nofollow">
              Montrer le code source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contenu
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">2. Introduction à Pygame</a><ul>
<li><a class="reference internal" href="#fond-et-formes">1. Fond et formes</a><ul>
<li><a class="reference internal" href="#exercice-1">Exercice 1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#faire-bouger-les-formes">2. Faire bouger les formes</a><ul>
<li><a class="reference internal" href="#exercice-2">Exercice 2</a></li>
<li><a class="reference internal" href="#exercice-3">Exercice 3</a></li>
<li><a class="reference internal" href="#exercice-4">Exercice 4</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ajouter-des-acteurs-avec-des-images">3. Ajouter des acteurs (avec des images)</a><ul>
<li><a class="reference internal" href="#exercice-5">Exercice 5</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gestion-du-clavier">4. Gestion du clavier</a><ul>
<li><a class="reference internal" href="#exercice-6">Exercice 6</a></li>
<li><a class="reference internal" href="#exercice-7">Exercice 7</a></li>
<li><a class="reference internal" href="#exercice-8">Exercice 8</a></li>
</ul>
</li>
<li><a class="reference internal" href="#animation-des-acteurs">5. Animation des acteurs</a><ul>
<li><a class="reference internal" href="#exercice-9">Exercice 9</a></li>
<li><a class="reference internal" href="#exercice-10">Exercice 10</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ajouter-un-ennemi-rebondissant">6. Ajouter un ennemi rebondissant</a><ul>
<li><a class="reference internal" href="#exercice-11">Exercice 11</a></li>
</ul>
</li>
<li><a class="reference internal" href="#des-collisions-entre-acteurs">7. Des collisions entre acteurs</a><ul>
<li><a class="reference internal" href="#exercice-12">Exercice 12</a></li>
</ul>
</li>
<li><a class="reference internal" href="#musique-et-sons">8. Musique et sons</a><ul>
<li><a class="reference internal" href="#exercice-13">Exercice 13</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-rendre">A rendre</a><ul>
<li><a class="reference internal" href="#exercice-14-optionnel">Exercice 14 (optionnel)</a></li>
<li><a class="reference internal" href="#exercie-15-optionnel">Exercie 15 (optionnel)</a></li>
<li><a class="reference internal" href="#exercice-16-optionnel">Exercice 16 (optionnel)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#et-quoi-dautre">Et quoi d’autre ?</a><ul>
<li><a class="reference internal" href="#donner-de-la-vie-a-vos-acteurs">Donner de la vie à vos acteurs</a></li>
<li><a class="reference internal" href="#afficher-la-valeur-dune-variable-a-lecran">Afficher la valeur d’une variable à l’écran</a></li>
<li><a class="reference internal" href="#ajouter-un-bouton">Ajouter un bouton</a></li>
<li><a class="reference internal" href="#gerer-le-temps-qui-secoule">Gérer le temps qui s’écoule</a></li>
<li><a class="reference internal" href="#gestion-de-la-souris">Gestion de la souris</a></li>
<li><a class="reference internal" href="#gerer-la-rotation-des-acteurs">Gérer la rotation des acteurs</a></li>
<li><a class="reference internal" href="#gerer-des-deplacements-plus-complexes">Gérer des déplacements plus complexes</a></li>
<li><a class="reference internal" href="#gerer-des-listes-dacteurs">Gérer des listes d’acteurs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/main.js"></script>
    <script src="../_static/glossary.js"></script>
    <script src="../_static/questions.js"></script>
    <script src="https://logic.modulo-info.ch/simulator/lib/bundle.js"></script>
    <script src="../_static/blanks.js"></script>
    <script src="../_static/timeline.js"></script>
    <script src="../_static/translations.js"></script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="../_static/scripts/reactions.js"></script>
    <script src="../_static/scripts/progress.js"></script>
    <script src="../_static/scripts/dark.js"></script>
    <script src="../_static/scripts/frames.js"></script>
    </body>
</html>